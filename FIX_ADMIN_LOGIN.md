# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `.env.local` –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞ "–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å". –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö** –∏–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@89.104.67.209
```

### –®–∞–≥ 2: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /var/www/tashi-ani
```

### –®–∞–≥ 3: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env.local –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```bash
cat .env.local
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- `MASTER_ADMIN_EMAIL="2277277@bk.ru"`
- `MASTER_ADMIN_PASSWORD="admin123"`
- `JWT_SECRET="your-secret-key"`
- `DATABASE_URL="file:./dev.db"`

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∞
```bash
node create-admin-user.js
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –°–æ–∑–¥–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å email –∏–∑ `MASTER_ADMIN_EMAIL`
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–∞—Ä–æ–ª—å –∏–∑ `MASTER_ADMIN_PASSWORD` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç —Ä–æ–ª—å `MASTER`
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å—Ç–∞—Ç—É—Å `ACTIVE`

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ –ê–¥–º–∏–Ω —Å–æ–∑–¥–∞–Ω! (–∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω)
üìã –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞:
   Email: 2277277@bk.ru
   –ü–∞—Ä–æ–ª—å: admin123
```

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
pm2 restart tashi-ani --update-env
```

### –®–∞–≥ 7: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í–≤–µ–¥–∏—Ç–µ email: `2277277@bk.ru`
3. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: `admin123`
4. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"

## üîç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç
```bash
node reset-admin-password.js
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ Prisma Studio
```bash
npx prisma studio
```

–ó–∞—Ç–µ–º –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É `users`
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   - `email`: `2277277@bk.ru`
   - `password`: (–Ω—É–∂–Ω–æ –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ bcrypt)
   - `role`: `MASTER`
   - `status`: `ACTIVE`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ SQL (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ SQLite)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ sqlite3 –µ—Å–ª–∏ –Ω–µ—Ç
apt-get install sqlite3

# –û—Ç–∫—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
sqlite3 prisma/dev.db

# –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω!)
# –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç create-admin-user.js
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω** - –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤–∏—Ç—å `admin123` –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2. **Email –¥–æ–ª–∂–µ–Ω —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
3. **–†–æ–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `MASTER`** - –Ω–µ `ADMIN`, –∞ –∏–º–µ–Ω–Ω–æ `MASTER`
4. **–°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `ACTIVE`** - –∏–Ω–∞—á–µ –≤—Ö–æ–¥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç

## üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `node create-admin-user.js`

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å"
**–†–µ—à–µ–Ω–∏–µ:** 
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–ª –ø–∞—Ä–æ–ª—å
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `.env.local` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `MASTER_ADMIN_PASSWORD`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç: `node create-admin-user.js`

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
node --version

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
npm install

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la prisma/dev.db

# –ï—Å–ª–∏ –±–∞–∑—ã –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ:
npx prisma migrate deploy
```

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω (—á–µ—Ä–µ–∑ Prisma Studio)
npx prisma studio

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 logs tashi-ani --lines 50
```

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç

- [ ] `.env.local` –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å `MASTER_ADMIN_EMAIL` –∏ `MASTER_ADMIN_PASSWORD`
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`prisma/dev.db`)
- [ ] –°–∫—Ä–∏–ø—Ç `create-admin-user.js` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω —Å —Ä–æ–ª—å—é `MASTER` –∏ —Å—Ç–∞—Ç—É—Å–æ–º `ACTIVE`
- [ ] –ü–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ (`pm2 restart tashi-ani --update-env`)
- [ ] –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–∞–π—Ç–µ




